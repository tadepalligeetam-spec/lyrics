<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lyrical | Admin Panel</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Admin Specific Styles */
        .admin-layout {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border-right: 1px solid var(--glass-border);
            padding: 20px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100%;
            z-index: 100;
        }

        .sidebar-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .nav-item {
            padding: 12px 16px;
            border-radius: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 500;
        }

        .nav-item:hover,
        .nav-item.active {
            background: rgba(191, 149, 63, 0.1);
            color: var(--accent-color);
            border: 1px solid rgba(191, 149, 63, 0.2);
        }

        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 30px;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .breadcrumbs {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            padding: 24px;
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
            opacity: 0.3;
            transform: translate(20%, -20%);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Table */
        .table-container {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 24px;
            overflow-x: auto;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            color: var(--text-primary);
        }

        th,
        td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--glass-border);
        }

        th {
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover td {
            background: rgba(255, 255, 255, 0.02);
        }

        .action-btn {
            padding: 6px 12px;
            border-radius: 6px;
            border: 1px solid var(--glass-border);
            background: rgba(0, 0, 0, 0.2);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.85rem;
            margin-right: 5px;
        }

        .action-btn:hover {
            color: white;
            background: var(--accent-color);
            border-color: var(--accent-color);
        }

        .delete-btn:hover {
            background: #ef4444;
            border-color: #ef4444;
        }

        /* Modal Overrides */
        .modal {
            z-index: 2000;
        }
    </style>
</head>

<body>
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <span class="logo-icon">‚ú®</span> Admin Panel
            </div>
            <ul class="nav-links">
                <li class="nav-item active" onclick="showSection('dashboard')">
                    <span>üìä</span> Dashboard
                </li>
                <li class="nav-item" onclick="showSection('songs')">
                    <span>üéµ</span> All Songs
                </li>
                <li class="nav-item" onclick="showSection('add-song')">
                    <span>‚ûï</span> Add New Song
                </li>
                <li class="nav-item" style="margin-top: auto;" id="logout-btn">
                    <span>üö™</span> Logout
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="top-bar">
                <div class="breadcrumbs">Home / Dashboard</div>
                <div class="header-actions">
                    <button id="theme-toggle" class="theme-toggle" title="Toggle Light/Dark Mode"
                        style="margin-right:20px;">
                        <span class="sun-icon">‚òÄÔ∏è</span>
                        <span class="moon-icon">üåô</span>
                    </button>
                    <div class="user-profile">
                        <span>üëÆ Admin</span>
                    </div>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="section-dashboard">
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-value" id="stat-total-songs">0</span>
                        <span class="stat-label">Total Songs</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="stat-views">1.2k</span>
                        <span class="stat-label">Total Views (Mock)</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value">5</span>
                        <span class="stat-label">Pending Requests</span>
                    </div>
                </div>

                <div class="table-container">
                    <div class="section-header">
                        <h2>Recent Activity</h2>
                    </div>
                    <p style="color:var(--text-secondary)">No recent activity to show.</p>
                </div>
            </section>

            <!-- Songs List Section -->
            <section id="section-songs" class="hidden">
                <div class="table-container">
                    <div class="section-header">
                        <h2>Song Library</h2>
                        <button class="btn-primary" onclick="showSection('add-song')">+ Add Song</button>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Artist</th>
                                <th>Date Added</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="admin-songs-table">
                            <!-- Rows injected via JS -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Add Song Section -->
            <section id="section-add-song" class="hidden">
                <div class="glass-card" style="max-width: 800px; margin: 0 auto;">
                    <h2 style="margin-bottom: 20px;">Add New Song</h2>
                    <form id="admin-add-song-form">
                        <div class="form-group">
                            <label for="title">Song Title</label>
                            <input type="text" id="title" required placeholder="e.g. Blinding Lights">
                        </div>
                        <div class="form-group">
                            <label for="artist">Artist</label>
                            <input type="text" id="artist" required placeholder="e.g. The Weeknd">
                        </div>
                        <div class="form-group">
                            <label for="album-art">Album Art URL (Optional)</label>
                            <input type="url" id="album-art" placeholder="https://example.com/cover.jpg">
                        </div>
                        <div class="form-group">
                            <label for="lyrics_en">Lyrics (English)</label>
                            <textarea id="lyrics_en" rows="6" required placeholder="Paste English lyrics..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="lyrics_te">Lyrics (Telugu)</label>
                            <textarea id="lyrics_te" rows="6" placeholder="Paste Telugu lyrics..."></textarea>
                        </div>
                        <button type="submit" class="btn-primary full-width">Publish Song</button>
                    </form>
                </div>
            </section>

        </main>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast hidden"></div>

    <script type="module" src="admin.js"></script>
    <script>
        // Init Check
        if (localStorage.getItem('isAuthenticated') !== 'true') {
            window.location.href = 'login.html';
        }

        // Simple Tab Switching
        window.showSection = function (sectionId) {
            document.querySelectorAll('main > section').forEach(el => el.classList.add('hidden'));
            document.getElementById('section-' + sectionId).classList.remove('hidden');

            // Update Active Nav
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            // Find the nav item that matches... simplistically
            const navMap = {
                'dashboard': 0,
                'songs': 1,
                'add-song': 2
            };
            if (navMap[sectionId] !== undefined) {
                document.querySelectorAll('.nav-item')[navMap[sectionId]].classList.add('active');
            }
        }
    </script>
</body>

</html>